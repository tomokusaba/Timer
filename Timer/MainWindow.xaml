<Window x:Class="Timer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Timer"
        mc:Ignorable="d"
        Title="最適化中 - ドライブ C" Height="680" Width="820" MinHeight="500" MinWidth="700"
        WindowStartupLocation="CenterScreen" Background="#FF0078D4">
    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ヘッダー -->
        <Border Grid.Row="0" Padding="12,8" Background="#FFD4D0C8">
            <DockPanel>
                <TextBlock Text="最適化中 - ドライブ C" FontSize="13" FontWeight="Normal" VerticalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock x:Name="RemainingText" Text="00:00" FontSize="32" FontWeight="Bold" Foreground="#FF000080" VerticalAlignment="Center" Margin="0,0,12,0"/>
                    <TextBlock x:Name="TargetText" Text="目標: 00:00" Foreground="#FF444444" VerticalAlignment="Center"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- メイン: ディスクマップ (前面に大きく) -->
        <Border Grid.Row="1" Margin="8" BorderThickness="2" BorderBrush="#FF808080" Background="#FFC0C0C0">
            <Border Margin="2" BorderThickness="2" BorderBrush="#FF404040" Background="#FF000080">
                <UniformGrid x:Name="DiskGrid" Rows="20" Columns="52" Margin="4"/>
            </Border>
        </Border>

        <!-- フッター: コントロールパネル -->
        <Border Grid.Row="2" Padding="10" Background="#FFD4D0C8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 左側: ステータス + プログレス -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock x:Name="StatusText" Text="ファイル システムを最適化中..." FontSize="12"/>
                    <ProgressBar x:Name="Progress" Height="16" Minimum="0" Maximum="100" Margin="0,6,20,0"/>
                    <DockPanel Margin="0,4,20,0">
                        <TextBlock x:Name="PercentText" Text="0% 完了" DockPanel.Dock="Left" FontSize="11"/>
                        <TextBlock x:Name="ElapsedText" Text="経過: 00:00" DockPanel.Dock="Right" Foreground="#FF444444" FontSize="11"/>
                    </DockPanel>
                </StackPanel>

                <!-- 右側: ボタン類 -->
                <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                        <TextBlock Text="分:" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBox x:Name="MinutesBox" Text="5" Width="40" Padding="4,2" VerticalAlignment="Center"/>
                        <TextBlock Text="秒:" VerticalAlignment="Center" Margin="10,0,4,0"/>
                        <TextBox x:Name="SecondsBox" Text="0" Width="40" Padding="4,2" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="StartPauseButton" Content="開始(S)" Width="90" Height="28" Margin="0,0,6,0" Click="StartPause_Click"/>
                        <Button x:Name="ResetButton" Content="リセット(R)" Width="90" Height="28" Click="Reset_Click"/>
                    </StackPanel>
                    <TextBlock x:Name="ValidationText" Text="" Foreground="#FFB00020" FontSize="11" Margin="0,4,0,0" TextWrapping="Wrap" MaxWidth="180"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
